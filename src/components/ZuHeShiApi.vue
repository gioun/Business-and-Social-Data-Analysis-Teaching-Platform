<!-- æ ¹ç»„ä»¶ -->
<!-- ç»„ä»¶æ˜¯å¸¦æœ‰åç§°çš„å¯å¤ç”¨çš„å®ä¾‹,æ˜¯å•ç‹¬æ¨¡å—çš„å°è£… -->

<script>

    import {ref,reactive,toRefs} from 'vue';
    
    
    export default{
      data(){
        return{
          message:"å±•ç¤ºmsg",
          isShow:true
        };  
      },
      setup() {
        // ç»„åˆå¼apiæ¼”ç¤º
        //åœ¨ç»„ä»¶åˆ›å»º(create)ä¹‹å‰æ‰§è¡Œ,åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­å·²ç»æ›¿ä»£äº†beforeCreateå’Œcreated
        // ä¸ä½¿ç”¨this,thisä¸ä¼šæŒ‡å‘å®ä¾‹
        console.log('setup');
    

        //msgçš„é€»è¾‘ä»£ç ---------------------
        let msg='hello';//æ²¡æœ‰å“åº”å¼
        console.log(msg);
        function changeMsg(){
          msg='nihao'; 
          console.log(msg);//æ•°æ®ä¸æ˜¯å“åº”å¼çš„
        };
        //msgçš„é€»è¾‘ä»£ç ---------------------
    


        //é€šè¿‡refå®šä¹‰å“åº”å¼å˜é‡---------------------
        const msg1=ref('hello');//æ˜¯ä¸€ä¸ªå‡½æ•°,è¿”å›å¸¦æœ‰valueå±æ€§çš„å¯¹è±¡
        function changeMsg1(){
          msg1.value='nihao';
          console.log(msg1);
        };
        //é€šè¿‡refå®šä¹‰å“åº”å¼å˜é‡---------------------


        //obj---------------------
        // é€šè¿‡reactiveå®šä¹‰å¼•ç”¨ç±»å‹çš„æ•°æ®
        //å“åº”å¼çš„
        const obj=reactive({
          name:'zhangsan',
          age:18,
          children:{
            son:'xiaozhang'
          }
        });
        function changeObjName(){
          obj.name='lisi'
        };
        //obj---------------------

        //toRefs(å‡½æ•°,éœ€è¦ä¼ å…¥å¯¹è±¡)ä½¿å¾—è§£æ„åçš„æ•°æ®é‡æ–°è·å¾—å“åº”å¼
        //åœ¨returné‡Œé¢å†™è§£æ„ä¸åˆ©äºç»´æŠ¤
        const obj2=reactive({
          name:'lisi',
          age:19,
          children:{
            son:'xiaoli',
          }
        });

        function changeObj2SonName(){
          obj2.children.son='lisi'
        };
    
        return{
          msg,
          msg1,
          changeMsg,
          changeMsg1,
          obj,
          changeObjName,
          // é€šè¿‡ES6æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œç»“æ„ä½¿å¾—å¯¹è±¡ä¸­çš„å±æ€§å¤±å»å“åº”å¼ğŸ‘‡æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œè§£æ„
          // å®é™…ä¸Šç›¸å½“äºæ˜¯è®©name:obj.name,children:obj.children,ä½†æ˜¯è¿™æ ·ä½¿å¾—objçš„æ–¹æ³•å¤±å»å“åº”å¼
          ...obj,
          // toRefsä½¿å¾—è§£æ„åçš„æ•°æ®é‡æ–°è·å¾—å“åº”å¼
          // åœ¨returné‡Œé¢å†™è§£æ„ä¸åˆ©äºç»´æŠ¤
          changeObj2SonName,
          ...toRefs(obj2),
        };//å°†æ•°æ®æš´éœ²ç»™å®ä¾‹
    
      },
      components:{   
      },
      computed:{
        
      },
      methods:{
        
      }
      
    
    };
    
    </script>
    
    <template>
      
      <h2>{{msg}}</h2>
    
      <!-- æ¨¡æ¿ä¼šè‡ªåŠ¨è§£ævalueå€¼,ä¸éœ€è¦æŒ‡å®š.value -->
      <h2>{{msg1}}</h2>
      <button @click="changeMsg">æ”¹å˜msg</button>
      <button @click="changeMsg1">æ”¹å˜msg1</button>

      <h2>obj.name:{{obj.name}}</h2>
      <h2>name:{{name}},å¤±å»å“åº”å¼</h2>
      <button @click="changeObjName">æ”¹å˜åå­—</button>

      <h2>obj.children.son:{{obj.children.son}}</h2>

      <h2>children.son:{{children.son}}</h2>
      <button @click="changeObj2SonName">æ”¹å˜å„¿å­</button>

    
    
      
    
      
    </template>
    
    
    
    <style>
    
    </style>
    