<template>
    <div>
        <a-divider />
        <input type="file" id="InputFile" name="InputFiles">
        <a-button @click="Upload">ä¸Šä¼ æ–‡ä»¶</a-button>
        <a-divider />
    </div>
</template>


<script setup>
import axios from 'axios';
import {ref,reactive} from 'vue';






function Upload(){
    // let File = document.getElementsByName('InputFiles')[0].files[0];
    let File = document.getElementById('InputFile').files[0];
    let NewFormData = new FormData();
    NewFormData.append('id','111');
    NewFormData.append("files",File);
    console.log('ğŸ‘‡this is formdata');
    console.log(NewFormData.get("files"));


    // ä¸€ä¸ªå¯èƒ½å¯ä»¥ç”¨çš„API https://www.mocky.io/v2/5cc8019d300000980a055e76
    // http://123.56.21.208:8002/api/Lesson_file/files/
    axios.post('http://123.56.21.208:8002/api/Lesson_file/files/',NewFormData,{
                'Content-type' : 'multipart/form-data'
            }).then(function (response) {
                console.log(response);
            })
            .catch(function (error) {
                    console.log('error--------------');
                    console.log(error);
                    alert("Error,è”ç³»ç®¡ç†å‘˜è§£å†³é—®é¢˜");
            });

};






</script>